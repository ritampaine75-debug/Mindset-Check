<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mindset Check App</title>
    
    <!-- Fonts for Multilingual Support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind:wght@400;600;700&family=Noto+Sans+Bengali:wght@400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js for Graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #5a52d5;
            --bg-color: #F4F7F6;
            --card-bg: #FFFFFF;
            --text-main: #2D3436;
            --text-sub: #636E72;
            --success: #00b894;
            --danger: #d63031;
            --shadow: 0 8px 30px rgba(0,0,0,0.08);
            --radius: 20px;
            --font-en: 'Poppins', sans-serif;
            --font-bn: 'Noto Sans Bengali', sans-serif;
            --font-hi: 'Hind', sans-serif;
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --bg-color: #1e1e2e;
            --card-bg: #2d2d44;
            --text-main: #ecf0f1;
            --text-sub: #b2bec3;
            --shadow: 0 8px 30px rgba(0,0,0,0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: var(--font-en);
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            justify-content: center;
            overflow: hidden; /* App-like feel */
        }

        /* Mobile Container */
        #app-container {
            width: 100%;
            max-width: 480px;
            height: 100%;
            background: var(--bg-color);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-y: auto;
        }

        /* Typography Override based on Language */
        body[data-lang="bn"] { font-family: var(--font-bn); }
        body[data-lang="hi"] { font-family: var(--font-hi); }

        /* Views System */
        .view {
            display: none;
            padding: 20px;
            animation: fadeIn 0.4s ease;
            height: 100%;
            flex-direction: column;
        }
        
        .view.active { display: flex; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* UI Elements */
        h1, h2, h3 { margin-bottom: 15px; font-weight: 700; text-align: center; }
        p { margin-bottom: 20px; line-height: 1.6; color: var(--text-sub); text-align: center; }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
        }

        .btn:active { transform: scale(0.98); }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); box-shadow: none; }
        .btn-secondary { background: var(--text-sub); opacity: 0.2; color: white; pointer-events: none; }
        
        [data-theme="dark"] .btn-outline { color: #fff; border-color: #fff; }

        /* Language Selection Grid */
        .lang-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: auto;
            margin-bottom: auto;
        }

        /* Quiz UI */
        .progress-bar {
            height: 6px;
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        .option-btn {
            background: var(--card-bg);
            border: 2px solid rgba(0,0,0,0.05);
            color: var(--text-main);
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 12px;
            text-align: left;
            transition: var(--transition);
        }
        [data-theme="dark"] .option-btn { border-color: rgba(255,255,255,0.1); }
        .option-btn.selected { border-color: var(--primary); background: rgba(108, 99, 255, 0.05); }

        /* Result UI */
        .result-emoji { font-size: 5rem; display: block; margin-bottom: 10px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .score-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .badge {
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 20px;
            background: rgba(0,0,0,0.05);
        }
        [data-theme="dark"] .badge { background: rgba(255,255,255,0.1); }

        /* Navigation Bar */
        .nav-bar {
            margin-top: auto;
            display: flex;
            justify-content: space-around;
            background: var(--card-bg);
            padding: 15px 10px;
            border-radius: var(--radius) var(--radius) 0 0;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
        }
        .nav-item {
            font-size: 1.5rem;
            color: var(--text-sub);
            background: none;
            border: none;
            cursor: pointer;
        }
        .nav-item.active { color: var(--primary); }

        /* Settings */
        .setting-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .toggle-switch {
            width: 50px;
            height: 26px;
            background: #ccc;
            border-radius: 20px;
            position: relative;
            transition: 0.3s;
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px; left: 3px;
            width: 20px; height: 20px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }
        .toggle-active { background: var(--primary); }
        .toggle-active::after { left: 27px; }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
            margin-bottom: 20px;
        }
    </style>
</head>
<body data-lang="en" data-theme="light">

<div id="app-container">

    <!-- 1. LANGUAGE SELECT VIEW -->
    <div id="view-lang" class="view active">
        <div class="card" style="margin-top: auto; margin-bottom: auto;">
            <span style="font-size: 3rem;">üß†</span>
            <h2>Mindset Check</h2>
            <p>Select your language<br>‡¶≠‡¶æ‡¶∑‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®<br>‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç</p>
        </div>
        <div class="lang-grid">
            <button class="btn" onclick="setLanguage('en')">English</button>
            <button class="btn" onclick="setLanguage('bn')">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</button>
            <button class="btn" onclick="setLanguage('hi')">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</button>
        </div>
    </div>

    <!-- 2. HOME VIEW -->
    <div id="view-home" class="view">
        <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <h1 id="home-title">Hello!</h1>
            <p id="home-desc">Let's check your mindset today.</p>
            <div class="card" style="width: 100%;">
                <span class="result-emoji">üßò</span>
                <button class="btn" id="btn-start" onclick="startQuiz()">Start Checkup</button>
            </div>
        </div>
        
        <!-- Bottom Nav -->
        <div class="nav-bar">
            <button class="nav-item active" onclick="showView('view-home')">üè†</button>
            <button class="nav-item" onclick="loadHistory(); showView('view-history')">üìà</button>
            <button class="nav-item" onclick="showView('view-settings')">‚öôÔ∏è</button>
        </div>
    </div>

    <!-- 3. QUIZ VIEW -->
    <div id="view-quiz" class="view">
        <div class="progress-bar">
            <div id="progress-fill" class="progress-fill"></div>
        </div>
        <div class="card">
            <h3 id="question-text">Question goes here?</h3>
        </div>
        <div id="options-container">
            <!-- Options injected by JS -->
        </div>
    </div>

    <!-- 4. RESULT VIEW -->
    <div id="view-result" class="view">
        <div class="card" style="margin-top: 20px;">
            <h2 id="result-title">Your Mindset</h2>
            <span id="result-emoji" class="result-emoji">üåü</span>
            <h1 id="result-name" style="color: var(--primary);">Positive</h1>
            <p id="result-desc">You are feeling great today!</p>
            
            <div class="score-badges" id="score-badges">
                <!-- Badges injected -->
            </div>
        </div>

        <div class="card">
            <h3 id="advice-title">Quick Tip</h3>
            <p id="result-advice">Keep it up!</p>
        </div>

        <button class="btn" id="btn-home" onclick="showView('view-home')">Go Home</button>
        <button class="btn btn-outline" id="btn-share" onclick="shareResult()">Share Result</button>
    </div>

    <!-- 5. HISTORY VIEW -->
    <div id="view-history" class="view">
        <h2 id="history-title">Your Progress</h2>
        <div class="card">
            <div class="chart-container">
                <canvas id="moodChart"></canvas>
            </div>
        </div>
        <div id="history-list" style="padding-bottom: 80px;">
            <!-- History items -->
        </div>
        <div class="nav-bar" style="position: fixed; bottom: 0; left:0; width: 100%; max-width:480px; left: 50%; transform: translateX(-50%);">
            <button class="nav-item" onclick="showView('view-home')">üè†</button>
            <button class="nav-item active" onclick="showView('view-history')">üìà</button>
            <button class="nav-item" onclick="showView('view-settings')">‚öôÔ∏è</button>
        </div>
    </div>

    <!-- 6. SETTINGS VIEW -->
    <div id="view-settings" class="view">
        <h2 id="settings-title">Settings</h2>
        
        <div class="card">
            <div class="setting-row">
                <span id="lbl-darkmode">Dark Mode</span>
                <div class="toggle-switch" id="toggle-theme" onclick="toggleTheme()"></div>
            </div>
            <div class="setting-row">
                <span id="lbl-lang">Language</span>
                <button class="btn-outline" style="width: auto; padding: 5px 15px; font-size: 0.9rem; margin:0;" onclick="showView('view-lang')">Change</button>
            </div>
        </div>

        <button class="btn" style="background: var(--danger); margin-top: 20px;" id="btn-reset" onclick="clearHistory()">Reset History</button>

        <div class="nav-bar" style="position: fixed; bottom: 0; left:0; width: 100%; max-width:480px; left: 50%; transform: translateX(-50%);">
            <button class="nav-item" onclick="showView('view-home')">üè†</button>
            <button class="nav-item" onclick="showView('view-history')">üìà</button>
            <button class="nav-item active" onclick="showView('view-settings')">‚öôÔ∏è</button>
        </div>
    </div>

</div>

<script>
/* ----------------------------------------------------
   1. DATA & TRANSLATIONS
   ---------------------------------------------------- */
const translations = {
    en: {
        homeTitle: "Mindset Check",
        homeDesc: "Understand your mind with 12 simple questions.",
        btnStart: "Start Checkup",
        resultTitle: "Your Dominant Mindset",
        adviceTitle: "My Advice For You",
        btnHome: "Back to Home",
        btnShare: "Share Result",
        historyTitle: "Mood History",
        settingsTitle: "Settings",
        lblDarkMode: "Dark Mode",
        lblLang: "Language",
        btnReset: "Clear All Data",
        alertReset: "History deleted!",
        mindsets: {
            positive: { name: "Positive & Radiant", desc: "You are radiating good vibes. Your outlook is optimistic.", advice: "Use this energy to help someone else today." },
            motivated: { name: "Highly Motivated", desc: "You have a fire inside you today. Goals feel reachable.", advice: "Write down your top 3 goals and attack them now." },
            focused: { name: "Laser Focused", desc: "Your mind is clear and sharp. Distractions are low.", advice: "Tackle your most difficult task immediately." },
            stressed: { name: "Highly Stressed", desc: "You are feeling the weight of pressure.", advice: "Take a 5-minute breathing break. Nothing is more important than your health." },
            overthinking: { name: "Overthinking Loop", desc: "Your mind is racing with 'what ifs'.", advice: "Write your worries on paper to get them out of your head." },
            sad: { name: "Feeling Low", desc: "Your energy and spirits are a bit down.", advice: "Be gentle with yourself. Do one small thing that makes you smile." }
        }
    },
    bn: {
        homeTitle: "‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶∏‡ßá‡¶ü ‡¶ö‡ßá‡¶ï",
        homeDesc: "‡ßß‡ß®‡¶ü‡¶ø ‡¶∏‡¶π‡¶ú ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßá‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®‡•§",
        btnStart: "‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®",
        resultTitle: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï‡¶§‡¶æ",
        adviceTitle: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂",
        btnHome: "‡¶π‡ßã‡¶Æ ‡¶™‡ßá‡¶ú",
        btnShare: "‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®",
        historyTitle: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏",
        settingsTitle: "‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏",
        lblDarkMode: "‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶°",
        lblLang: "‡¶≠‡¶æ‡¶∑‡¶æ",
        btnReset: "‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®",
        alertReset: "‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
        mindsets: {
            positive: { name: "‡¶á‡¶§‡¶ø‡¶¨‡¶æ‡¶ö‡¶ï ‡¶ì ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤", desc: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ñ‡ßÅ‡¶¨ ‡¶á‡¶§‡¶ø‡¶¨‡¶æ‡¶ö‡¶ï ‡¶¨‡ßã‡¶ß ‡¶ï‡¶∞‡¶õ‡ßá‡¶®‡•§", advice: "‡¶è‡¶á ‡¶∂‡¶ï‡ßç‡¶§‡¶ø ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶ú ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶æ‡¶â‡¶ï‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§" },
            motivated: { name: "‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶Ö‡¶®‡ßÅ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡¶ø‡¶§", desc: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞ ‡¶Ü‡¶ú ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶¨‡¶≤ ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π ‡¶Ü‡¶õ‡ßá‡•§", advice: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡ß©‡¶ü‡¶ø ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§" },
            focused: { name: "‡¶Æ‡¶®‡ßã‡¶Ø‡ßã‡¶ó‡ßÄ", desc: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶® ‡¶Ü‡¶ú ‡¶ñ‡ßÅ‡¶¨ ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶§‡ßÄ‡¶ï‡ßç‡¶∑‡ßç‡¶£‡•§", advice: "‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶†‡¶ø‡¶® ‡¶ï‡¶æ‡¶ú‡¶ü‡¶ø ‡¶è‡¶ñ‡¶®‡¶á ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§" },
            stressed: { name: "‡¶Ö‡¶§‡ßç‡¶Ø‡¶ß‡¶ø‡¶ï ‡¶ö‡¶æ‡¶™‡ßá ‡¶Ü‡¶õ‡ßá‡¶®", desc: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶ö‡¶æ‡¶™‡ßá ‡¶≠‡ßÅ‡¶ó‡¶õ‡ßá‡¶®‡•§", advice: "‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ó‡¶≠‡ßÄ‡¶∞ ‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶®‡¶ø‡¶®‡•§ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶¨‡¶°‡¶º ‡¶®‡¶Ø‡¶º‡•§" },
            overthinking: { name: "‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ", desc: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ö‡¶π‡ßá‡¶§‡ßÅ‡¶ï ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ‡¶∞ ‡¶ù‡¶°‡¶º ‡¶ö‡¶≤‡¶õ‡ßá‡•§", advice: "‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶æ‡¶ó‡¶ú‡ßá ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®, ‡¶Æ‡¶æ‡¶•‡¶æ ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶π‡¶¨‡ßá‡•§" },
            sad: { name: "‡¶Æ‡¶® ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™", desc: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶∂‡¶ï‡ßç‡¶§‡¶ø ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶ï‡¶Æ ‡¶Æ‡¶®‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§", advice: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡¶¶‡¶Ø‡¶º ‡¶π‡ßã‡¶®‡•§ ‡¶õ‡ßã‡¶ü ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ñ‡ßÅ‡¶∂‡¶ø ‡¶ï‡¶∞‡ßá‡•§" }
        }
    },
    hi: {
        homeTitle: "‡§Æ‡§æ‡§á‡§Ç‡§°‡§∏‡•á‡§ü ‡§ö‡•á‡§ï",
        homeDesc: "12 ‡§∏‡§∞‡§≤ ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡•á ‡§Æ‡§® ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ú‡§æ‡§®‡•á‡§Ç‡•§",
        btnStart: "‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
        resultTitle: "‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï‡§§‡§æ",
        adviceTitle: "‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§≤‡§æ‡§π",
        btnHome: "‡§π‡•ã‡§Æ ‡§™‡•á‡§ú",
        btnShare: "‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç",
        historyTitle: "‡§á‡§§‡§ø‡§π‡§æ‡§∏",
        settingsTitle: "‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏",
        lblDarkMode: "‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§°",
        lblLang: "‡§≠‡§æ‡§∑‡§æ",
        btnReset: "‡§°‡§æ‡§ü‡§æ ‡§∏‡§æ‡§´‡§º ‡§ï‡§∞‡•á‡§Ç",
        alertReset: "‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!",
        mindsets: {
            positive: { name: "‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï", desc: "‡§Ü‡§™ ‡§¨‡§π‡•Å‡§§ ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§", advice: "‡§á‡§∏ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§∏‡•Ä ‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§∞‡•á‡§Ç‡•§" },
            motivated: { name: "‡§™‡•ç‡§∞‡•á‡§∞‡§ø‡§§ (Motivated)", desc: "‡§Ü‡§™‡§Æ‡•á‡§Ç ‡§Ü‡§ú ‡§ï‡•Å‡§õ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§ú‡•Å‡§®‡•Ç‡§® ‡§π‡•à‡•§", advice: "‡§Ö‡§™‡§®‡•á 3 ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§≤‡§ø‡§ñ‡•á‡§Ç ‡§î‡§∞ ‡§ï‡§æ‡§Æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç‡•§" },
            focused: { name: "‡§è‡§ï‡§æ‡§ó‡•ç‡§∞ (Focused)", desc: "‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§Ü‡§ú ‡§¨‡§π‡•Å‡§§ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§î‡§∞ ‡§§‡•á‡§ú ‡§π‡•à‡•§", advice: "‡§∏‡§¨‡§∏‡•á ‡§ï‡§†‡§ø‡§® ‡§ï‡§æ‡§Æ ‡§Ö‡§≠‡•Ä ‡§®‡§ø‡§™‡§ü‡§æ ‡§≤‡•á‡§Ç‡•§" },
            stressed: { name: "‡§§‡§®‡§æ‡§µ‡§ó‡•ç‡§∞‡§∏‡•ç‡§§", desc: "‡§Ü‡§™ ‡§¨‡§π‡•Å‡§§ ‡§¶‡§¨‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§", advice: "5 ‡§Æ‡§ø‡§®‡§ü ‡§ó‡§π‡§∞‡•Ä ‡§∏‡§æ‡§Ç‡§∏ ‡§≤‡•á‡§Ç‡•§ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡•á ‡§¨‡§¢‡§º‡§ï‡§∞ ‡§ï‡•Å‡§õ ‡§®‡§π‡•Ä‡§Ç‡•§" },
            overthinking: { name: "‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§∏‡•á ‡§ú‡§º‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§∏‡•ã‡§ö‡§®‡§æ", desc: "‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§Æ‡§æ‡§ó '‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ ‡§Ö‡§ó‡§∞' ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§∏‡§æ ‡§π‡•à‡•§", advice: "‡§Ö‡§™‡§®‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ï‡§æ‡§ó‡§ú ‡§™‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§" },
            sad: { name: "‡§â‡§¶‡§æ‡§∏ / ‡§≤‡•ã", desc: "‡§Ü‡§™‡§ï‡•Ä ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§•‡•ã‡§°‡§º‡•Ä ‡§ï‡§Æ ‡§≤‡§ó ‡§∞‡§π‡•Ä ‡§π‡•à‡•§", advice: "‡§ñ‡•Å‡§¶ ‡§™‡§∞ ‡§∏‡§ñ‡§º‡•ç‡§§ ‡§® ‡§π‡•ã‡§Ç‡•§ ‡§ï‡•Å‡§õ ‡§ê‡§∏‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§ñ‡•Å‡§∂‡•Ä ‡§Æ‡§ø‡§≤‡•á‡•§" }
        }
    }
};

const questionsData = [
    {
        id: 1,
        text: { en: "How did you feel when you woke up?", bn: "‡¶ò‡ßÅ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ì‡¶†‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶æ‡¶ó‡¶õ‡¶ø‡¶≤?", hi: "‡§ú‡§æ‡§ó‡§®‡•á ‡§™‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§π‡•Å‡§Ü?" },
        options: [
            { text: { en: "Energized", bn: "‡¶™‡ßç‡¶∞‡¶æ‡¶£‡¶¨‡¶®‡ßç‡¶§", hi: "‡§ä‡§∞‡•ç‡§ú‡§æ‡§µ‡§æ‡§®" }, scores: { pos: 2, mot: 2, stress: 0, foc: 1 } },
            { text: { en: "Tired", bn: "‡¶ï‡ßç‡¶≤‡¶æ‡¶®‡ßç‡¶§", hi: "‡§•‡§ï‡§æ ‡§π‡•Å‡§Ü" }, scores: { pos: 0, mot: -1, stress: 1, foc: 0 } },
            { text: { en: "Anxious", bn: "‡¶â‡¶¶‡ßç‡¶¨‡¶ø‡¶ó‡ßç‡¶®", hi: "‡§ö‡§ø‡§Ç‡§§‡§ø‡§§" }, scores: { pos: -1, mot: 0, stress: 2, foc: -1 } }
        ]
    },
    {
        id: 2,
        text: { en: "You have a lot of work today. Reaction?", bn: "‡¶Ü‡¶ú ‡¶Ö‡¶®‡ßá‡¶ï ‡¶ï‡¶æ‡¶ú‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ?", hi: "‡§Ü‡§ú ‡§¨‡§π‡•Å‡§§ ‡§ï‡§æ‡§Æ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ?" },
        options: [
            { text: { en: "Let's do it!", bn: "‡¶ö‡¶≤‡ßã ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ï!", hi: "‡§ö‡§≤‡•ã ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç!" }, scores: { pos: 1, mot: 3, stress: 0, foc: 2 } },
            { text: { en: "Overwhelmed", bn: "‡¶ñ‡ßÅ‡¶¨ ‡¶ö‡¶æ‡¶™ ‡¶≤‡¶æ‡¶ó‡¶õ‡ßá", hi: "‡§ò‡§¨‡§∞‡§æ‡§π‡§ü ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à" }, scores: { pos: -1, mot: -1, stress: 3, foc: -1 } },
            { text: { en: "I'll manage", bn: "‡¶∏‡¶æ‡¶Æ‡¶≤‡ßá ‡¶®‡ßá‡¶¨", hi: "‡§∏‡§Ç‡§≠‡§æ‡§≤ ‡§≤‡•Ç‡§Ç‡§ó‡§æ" }, scores: { pos: 1, mot: 1, stress: 1, foc: 1 } }
        ]
    },
    {
        id: 3,
        text: { en: "Are you easily distracted today?", bn: "‡¶Ü‡¶ú ‡¶ï‡¶ø ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶Æ‡¶® ‡¶â‡¶†‡ßá ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá?", hi: "‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§ú ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§≠‡§ü‡§ï ‡§∞‡§π‡§æ ‡§π‡•à?" },
        options: [
            { text: { en: "Not at all", bn: "‡¶è‡¶ï‡¶¶‡¶Æ‡¶á ‡¶®‡¶æ", hi: "‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§π‡•Ä‡§Ç" }, scores: { pos: 1, mot: 1, stress: 0, foc: 3 } },
            { text: { en: "A little bit", bn: "‡¶Ö‡¶≤‡ßç‡¶™ ‡¶Ö‡¶≤‡ßç‡¶™", hi: "‡§•‡•ã‡§°‡§º‡§æ ‡§∏‡§æ" }, scores: { pos: 0, mot: 0, stress: 1, foc: 0 } },
            { text: { en: "Yes, constantly", bn: "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶∏‡¶æ‡¶∞‡¶æ‡¶ï‡ßç‡¶∑‡¶£", hi: "‡§π‡§æ‡§Å, ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞" }, scores: { pos: -1, mot: -2, stress: 2, foc: -3 } }
        ]
    },
    {
        id: 4,
        text: { en: "How do you see your future right now?", bn: "‡¶è‡¶ñ‡¶® ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ï‡¶ø ‡¶≠‡¶æ‡¶¨‡¶õ‡ßá‡¶®?", hi: "‡§Ö‡§≠‡•Ä ‡§Ü‡§™ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§∏‡•ã‡§ö‡§§‡•á ‡§π‡•à‡§Ç?" },
        options: [
            { text: { en: "Bright", bn: "‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤", hi: "‡§â‡§ú‡•ç‡§ú‡•ç‡§µ‡§≤" }, scores: { pos: 3, mot: 2, stress: 0, foc: 1 } },
            { text: { en: "Uncertain", bn: "‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§", hi: "‡§Ö‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§" }, scores: { pos: 0, mot: 0, stress: 1, foc: 0 } },
            { text: { en: "Scary", bn: "‡¶≠‡¶Ø‡¶º‡¶ô‡ßç‡¶ï‡¶∞", hi: "‡§°‡§∞‡§æ‡§µ‡§®‡§æ" }, scores: { pos: -2, mot: -1, stress: 3, foc: -1 } }
        ]
    },
    {
        id: 5,
        text: { en: "A small mistake happens. You...", bn: "‡¶õ‡ßã‡¶ü‡ßç‡¶ü ‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø...", hi: "‡§õ‡•ã‡§ü‡•Ä ‡§ó‡§≤‡§§‡•Ä ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§Ü‡§™..." },
        options: [
            { text: { en: "Fix it & move on", bn: "‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶è‡¶ó‡ßã‡¶á", hi: "‡§†‡•Ä‡§ï ‡§ï‡§∞‡§ï‡•á ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§§‡•á ‡§π‡•à‡§Ç" }, scores: { pos: 2, mot: 1, stress: 0, foc: 2 } },
            { text: { en: "Blame myself", bn: "‡¶®‡¶ø‡¶ú‡ßá‡¶ï‡ßá ‡¶¶‡ßã‡¶∑ ‡¶¶‡¶ø‡¶á", hi: "‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§¶‡•ã‡§∑ ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç" }, scores: { pos: -1, mot: -1, stress: 2, foc: 0 } },
            { text: { en: "Panic", bn: "‡¶≠‡¶Ø‡¶º ‡¶™‡¶æ‡¶á", hi: "‡§ò‡§¨‡§∞‡§æ ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç" }, scores: { pos: -1, mot: -2, stress: 3, foc: -2 } }
        ]
    },
    {
        id: 6,
        text: { en: "Energy levels right now?", bn: "‡¶è‡¶ñ‡¶® ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ ‡¶ï‡ßá‡¶Æ‡¶®?", hi: "‡§Ö‡§≠‡•Ä ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§ï‡§æ ‡§∏‡•ç‡§§‡§∞ ‡§ï‡•à‡§∏‡§æ ‡§π‡•à?" },
        options: [
            { text: { en: "High", bn: "‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø", hi: "‡§â‡§ö‡•ç‡§ö" }, scores: { pos: 1, mot: 2, stress: 0, foc: 1 } },
            { text: { en: "Medium", bn: "‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø", hi: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ" }, scores: { pos: 0, mot: 0, stress: 0, foc: 0 } },
            { text: { en: "Low", bn: "‡¶ï‡¶Æ", hi: "‡§ï‡§Æ" }, scores: { pos: -1, mot: -2, stress: 1, foc: -1 } }
        ]
    },
    {
        id: 7,
        text: { en: "Thoughts running in your head?", bn: "‡¶Æ‡¶æ‡¶•‡¶æ‡¶Ø‡¶º ‡¶ï‡¶ø ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ ‡¶ò‡ßÅ‡¶∞‡¶õ‡ßá?", hi: "‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ö‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?" },
        options: [
            { text: { en: "Clear thoughts", bn: "‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ", hi: "‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§µ‡§ø‡§ö‡§æ‡§∞" }, scores: { pos: 1, mot: 1, stress: -1, foc: 3 } },
            { text: { en: "Too many thoughts", bn: "‡¶Ö‡¶ú‡¶∏‡ßç‡¶∞ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ", hi: "‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§∞‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞" }, scores: { pos: 0, mot: 0, stress: 2, foc: -2 } },
            { text: { en: "Negative loops", bn: "‡¶®‡ßá‡¶§‡¶ø‡¶¨‡¶æ‡¶ö‡¶ï ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ", hi: "‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§µ‡§ø‡§ö‡§æ‡§∞" }, scores: { pos: -2, mot: -1, stress: 3, foc: -1 } }
        ]
    },
    {
        id: 8,
        text: { en: "Do you feel like talking to people?", bn: "‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶§‡ßá ‡¶á‡¶ö‡ßç‡¶õ‡ßá ‡¶ï‡¶∞‡¶õ‡ßá?", hi: "‡§ï‡•ç‡§Ø‡§æ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§Æ‡§® ‡§π‡•à?" },
        options: [
            { text: { en: "Yes, share joy", bn: "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶Ü‡¶®‡¶®‡ßç‡¶¶ ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶§‡ßá", hi: "‡§π‡§æ‡§Å, ‡§ñ‡•Å‡§∂‡•Ä ‡§¨‡§æ‡§Ç‡§ü‡§®‡•á" }, scores: { pos: 3, mot: 1, stress: 0, foc: 0 } },
            { text: { en: "Maybe later", bn: "‡¶™‡¶∞‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶¨", hi: "‡§∂‡§æ‡§Ø‡§¶ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç" }, scores: { pos: 0, mot: 0, stress: 1, foc: 0 } },
            { text: { en: "No, leave me alone", bn: "‡¶®‡¶æ, ‡¶è‡¶ï‡¶æ ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶ö‡¶æ‡¶á", hi: "‡§®‡§π‡•Ä‡§Ç, ‡§Ö‡§ï‡•á‡§≤‡§æ ‡§õ‡•ã‡§°‡§º ‡§¶‡•ã" }, scores: { pos: -1, mot: -1, stress: 2, foc: 0 } }
        ]
    },
    {
        id: 9,
        text: { en: "How was your sleep?", bn: "‡¶ò‡ßÅ‡¶Æ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá?", hi: "‡§®‡•Ä‡§Ç‡§¶ ‡§ï‡•à‡§∏‡•Ä ‡§•‡•Ä?" },
        options: [
            { text: { en: "Great", bn: "‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£", hi: "‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡•Ä" }, scores: { pos: 1, mot: 2, stress: -1, foc: 2 } },
            { text: { en: "Okay", bn: "‡¶Æ‡ßã‡¶ü‡¶æ‡¶Æ‡ßÅ‡¶ü‡¶ø", hi: "‡§†‡•Ä‡§ï-‡§†‡§æ‡§ï" }, scores: { pos: 0, mot: 0, stress: 0, foc: 0 } },
            { text: { en: "Terrible", bn: "‡¶ñ‡ßÅ‡¶¨ ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™", hi: "‡§¨‡§π‡•Å‡§§ ‡§ñ‡§∞‡§æ‡§¨" }, scores: { pos: -1, mot: -2, stress: 2, foc: -2 } }
        ]
    },
    {
        id: 10,
        text: { en: "Do you have a goal for today?", bn: "‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶Ü‡¶õ‡ßá?", hi: "‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§ú ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§π‡•à?" },
        options: [
            { text: { en: "Yes, specific ones", bn: "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶Ü‡¶õ‡ßá", hi: "‡§π‡§æ‡§Å, ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§π‡•à" }, scores: { pos: 1, mot: 3, stress: 0, foc: 3 } },
            { text: { en: "Vague ideas", bn: "‡¶Ü‡¶¨‡¶õ‡¶æ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ", hi: "‡§ß‡•Å‡§Ç‡§ß‡§≤‡§æ ‡§µ‡§ø‡§ö‡§æ‡§∞" }, scores: { pos: 0, mot: 0, stress: 0, foc: 0 } },
            { text: { en: "No goal", bn: "‡¶®‡¶æ", hi: "‡§ï‡•ã‡§à ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§®‡§π‡•Ä‡§Ç" }, scores: { pos: -1, mot: -2, stress: 0, foc: -2 } }
        ]
    },
    {
        id: 11,
        text: { en: "How does your body feel?", bn: "‡¶∂‡¶∞‡ßÄ‡¶∞ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶æ‡¶ó‡¶õ‡ßá?", hi: "‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à?" },
        options: [
            { text: { en: "Relaxed", bn: "‡¶ù‡¶∞‡¶ù‡¶∞‡ßá", hi: "‡§Ü‡§∞‡§æ‡§Æ‡§¶‡§æ‡§Ø‡§ï" }, scores: { pos: 2, mot: 0, stress: -2, foc: 1 } },
            { text: { en: "Tense / Tight", bn: "‡¶Ü‡¶°‡¶º‡¶∑‡ßç‡¶ü / ‡¶ü‡¶æ‡¶®‡¶ü‡¶æ‡¶®", hi: "‡§§‡§®‡§æ‡§µ‡§™‡•Ç‡§∞‡•ç‡§£" }, scores: { pos: -1, mot: 0, stress: 3, foc: -1 } },
            { text: { en: "Heavy", bn: "‡¶≠‡¶æ‡¶∞‡ßÄ", hi: "‡§≠‡§æ‡§∞‡•Ä" }, scores: { pos: -1, mot: -2, stress: 1, foc: 0 } }
        ]
    },
    {
        id: 12,
        text: { en: "Final check: Are you happy?", bn: "‡¶∂‡ßá‡¶∑ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶ñ‡ßÅ‡¶∂‡¶ø?", hi: "‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®: ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§ñ‡•Å‡§∂ ‡§π‡•à‡§Ç?" },
        options: [
            { text: { en: "Yes!", bn: "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å!", hi: "‡§π‡§æ‡§Å!" }, scores: { pos: 3, mot: 1, stress: 0, foc: 0 } },
            { text: { en: "Could be better", bn: "‡¶Ü‡¶∞‡¶ì ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶§‡¶æ‡¶Æ", hi: "‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§•‡§æ" }, scores: { pos: 0, mot: 1, stress: 1, foc: 0 } },
            { text: { en: "No", bn: "‡¶®‡¶æ", hi: "‡§®‡§π‡•Ä‡§Ç" }, scores: { pos: -2, mot: -1, stress: 2, foc: 0 } }
        ]
    }
];

/* ----------------------------------------------------
   2. APP STATE & VARIABLES
   ---------------------------------------------------- */
let state = {
    lang: 'en',
    darkMode: false,
    currentQuestionIndex: 0,
    scores: { pos: 0, mot: 0, stress: 0, foc: 0 },
    history: []
};

let moodChart = null;

/* ----------------------------------------------------
   3. INIT & LANGUAGE
   ---------------------------------------------------- */
window.onload = () => {
    // Load from LocalStorage
    const savedData = localStorage.getItem('mindsetApp_data');
    if (savedData) {
        const parsed = JSON.parse(savedData);
        state.history = parsed.history || [];
        state.lang = parsed.lang || 'en';
        state.darkMode = parsed.darkMode || false;
        
        // Apply saved settings
        applyTheme();
        updateText();
        
        // Skip language screen if already set
        if (parsed.lang) {
            showView('view-home');
        }
    } else {
        // First time user
        showView('view-lang');
    }
};

function saveData() {
    localStorage.setItem('mindsetApp_data', JSON.stringify({
        history: state.history,
        lang: state.lang,
        darkMode: state.darkMode
    }));
}

function setLanguage(lang) {
    state.lang = lang;
    document.body.setAttribute('data-lang', lang);
    updateText();
    saveData();
    showView('view-home');
}

function updateText() {
    const t = translations[state.lang];
    document.getElementById('home-title').innerText = t.homeTitle;
    document.getElementById('home-desc').innerText = t.homeDesc;
    document.getElementById('btn-start').innerText = t.btnStart;
    
    document.getElementById('result-title').innerText = t.resultTitle;
    document.getElementById('advice-title').innerText = t.adviceTitle;
    document.getElementById('btn-home').innerText = t.btnHome;
    document.getElementById('btn-share').innerText = t.btnShare;
    
    document.getElementById('history-title').innerText = t.historyTitle;
    document.getElementById('settings-title').innerText = t.settingsTitle;
    document.getElementById('lbl-darkmode').innerText = t.lblDarkMode;
    document.getElementById('lbl-lang').innerText = t.lblLang;
    document.getElementById('btn-reset').innerText = t.btnReset;
}

/* ----------------------------------------------------
   4. NAVIGATION
   ---------------------------------------------------- */
function showView(viewId) {
    document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
    document.getElementById(viewId).classList.add('active');
}

/* ----------------------------------------------------
   5. QUIZ LOGIC
   ---------------------------------------------------- */
function startQuiz() {
    state.currentQuestionIndex = 0;
    state.scores = { pos: 0, mot: 0, stress: 0, foc: 0 };
    renderQuestion();
    showView('view-quiz');
}

function renderQuestion() {
    const q = questionsData[state.currentQuestionIndex];
    const container = document.getElementById('options-container');
    container.innerHTML = '';
    
    // Update Text
    document.getElementById('question-text').innerText = q.text[state.lang];
    
    // Update Progress
    const pct = ((state.currentQuestionIndex) / questionsData.length) * 100;
    document.getElementById('progress-fill').style.width = `${pct}%`;

    // Render Options
    q.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.innerHTML = `<span style="font-size:1.1rem; font-weight:600;">${opt.text[state.lang]}</span>`;
        btn.onclick = () => handleAnswer(opt.scores);
        container.appendChild(btn);
    });
}

function handleAnswer(scores) {
    // Add scores
    state.scores.pos += scores.pos;
    state.scores.mot += scores.mot;
    state.scores.stress += scores.stress;
    state.scores.foc += scores.foc;

    state.currentQuestionIndex++;
    
    if (state.currentQuestionIndex < questionsData.length) {
        renderQuestion();
    } else {
        finishQuiz();
    }
}

/* ----------------------------------------------------
   6. ANALYSIS ENGINE
   ---------------------------------------------------- */
function finishQuiz() {
    // Logic to determine dominant mindset
    const s = state.scores;
    let resultKey = 'positive'; // default
    let emoji = 'üòä';

    // Normalize comparison (rough logic)
    // Priority: Sad > Overthinking > Stressed > Motivated > Focused > Positive
    
    if (s.stress >= 8 && s.pos <= 0) {
        resultKey = 'sad';
        emoji = 'üåßÔ∏è';
    } else if (s.stress >= 6 && s.foc <= 0) {
        resultKey = 'overthinking';
        emoji = 'üåÄ';
    } else if (s.stress >= 5) {
        resultKey = 'stressed';
        emoji = 'ü§Ø';
    } else if (s.mot >= 8) {
        resultKey = 'motivated';
        emoji = 'üî•';
    } else if (s.foc >= 8) {
        resultKey = 'focused';
        emoji = 'üéØ';
    } else {
        resultKey = 'positive';
        emoji = '‚òÄÔ∏è';
    }

    const t = translations[state.lang].mindsets[resultKey];

    // Show Results
    document.getElementById('result-name').innerText = t.name;
    document.getElementById('result-desc').innerText = t.desc;
    document.getElementById('result-advice').innerText = t.advice;
    document.getElementById('result-emoji').innerText = emoji;

    // Badges
    const badgesDiv = document.getElementById('score-badges');
    badgesDiv.innerHTML = `
        <span class="badge">Positivity: ${s.pos}</span>
        <span class="badge">Stress: ${s.stress}</span>
        <span class="badge">Motivation: ${s.mot}</span>
        <span class="badge">Focus: ${s.foc}</span>
    `;

    // Save History
    const entry = {
        date: new Date().toLocaleDateString(),
        type: t.name,
        score: calculateMoodScore(s), // Single metric for graph
        lang: state.lang
    };
    state.history.push(entry);
    saveData();

    showView('view-result');
}

// Convert complex scores to a simple 0-100 "Mood Score" for graph
function calculateMoodScore(s) {
    // Formula: Base 50 + Positivity + Motivation + Focus - Stress - Overthinking
    let raw = 50 + (s.pos * 2) + (s.mot * 1.5) + (s.foc * 1) - (s.stress * 2);
    if(raw > 100) raw = 100;
    if(raw < 0) raw = 0;
    return Math.round(raw);
}

/* ----------------------------------------------------
   7. HISTORY & CHART
   ---------------------------------------------------- */
function loadHistory() {
    const list = document.getElementById('history-list');
    list.innerHTML = '';
    
    // Reverse for list (newest first)
    [...state.history].reverse().forEach(item => {
        const div = document.createElement('div');
        div.className = 'card';
        div.style.padding = '15px';
        div.style.marginBottom = '10px';
        div.style.display = 'flex';
        div.style.justifyContent = 'space-between';
        div.innerHTML = `<span>${item.date}</span> <strong>${item.type}</strong>`;
        list.appendChild(div);
    });

    renderChart();
}

function renderChart() {
    const ctx = document.getElementById('moodChart').getContext('2d');
    
    // Prepare Data (Last 7 entries)
    const recent = state.history.slice(-7);
    const labels = recent.map(i => i.date.substring(0,5)); // Short date
    const dataPoints = recent.map(i => i.score);

    if (moodChart) moodChart.destroy();

    moodChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'Mood Score',
                data: dataPoints,
                borderColor: '#6C63FF',
                backgroundColor: 'rgba(108, 99, 255, 0.1)',
                tension: 0.4,
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
                y: { min: 0, max: 100, grid: { color: 'rgba(0,0,0,0.05)' } },
                x: { grid: { display: false } }
            }
        }
    });
}

/* ----------------------------------------------------
   8. SETTINGS & UTILS
   ---------------------------------------------------- */
function toggleTheme() {
    state.darkMode = !state.darkMode;
    applyTheme();
    saveData();
}

function applyTheme() {
    const toggle = document.getElementById('toggle-theme');
    if (state.darkMode) {
        document.body.setAttribute('data-theme', 'dark');
        toggle.classList.add('toggle-active');
    } else {
        document.body.setAttribute('data-theme', 'light');
        toggle.classList.remove('toggle-active');
    }
}

function clearHistory() {
    if(confirm('Delete all history?')) {
        state.history = [];
        saveData();
        alert(translations[state.lang].alertReset);
        loadHistory(); // refresh if on history page
    }
}

function shareResult() {
    const text = `I just checked my mindset! Result: ${document.getElementById('result-name').innerText} ${document.getElementById('result-emoji').innerText}. Check yours now!`;
    if (navigator.share) {
        navigator.share({
            title: 'Mindset Check',
            text: text,
            url: window.location.href
        });
    } else {
        // Fallback
        prompt("Copy this link:", text);
    }
}

</script>
</body>
</html>
